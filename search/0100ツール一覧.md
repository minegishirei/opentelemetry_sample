





## オブザーバビリティツールの分類分け

ここまでの調査で、以下の **4層** に分けられることがわかりました。

- インステュルメンテーション層 : サーバー本体への計測器のインストール
- コレクター層 : テレメトリデータを集約し、可視化層へ送信する
- ストレージ層 : テレメトリデータを保存する
- 可視化層 : テレメトリーデータを可視化する



厳密に言うと異なる整理もあり得ますが、ツール群としてはこの分類が妥当だと考えています。

> **注意**
>
> 各ツールは必ずしも単一の層に厳密に属するわけではありませんし、公式に定義されているものでもありません。
> Prometheus や AWS Distro for OpenTelemetry のように、
> 複数の層の責務を兼ねるものも存在します。


### インストゥルメンテーション層

アプリケーションやミドルウェアの内部に組み込み、以下のデータを生成する層です。

- トレース
- メトリクス
- ログ

これらのデータを総称して **テレメトリデータ** と呼び、  
**オブザーバビリティの三本柱** を構成します。  
（詳細は別記事で解説予定）

<!-- TODO: 別記事でテレメトリデータを解説 -->

**製品例**

- OpenTelemetry SDK
- OpenTelemetry Auto Instrumentation
- AWS Distro for OpenTelemetry  
  （インストゥルメンテーション層 + コレクター層を兼ねる）


### コレクター層

コレクター層は、テレメトリデータを **受信・加工・転送** する中継層です。

**製品例**

- OpenTelemetry Collector
- Prometheus  
  （コレクター層 + ストレージ層を兼ねる）
- AWS Distro for OpenTelemetry  
  （インストゥルメンテーション層 + コレクター層を兼ねる）


### ストレージ層

受信したテレメトリデータを永続的に保存する層です。

**製品例**

- Tempo（トレース）
- Prometheus  
  （コレクター層 + ストレージ層 を兼ねる）
- AWS X-Ray  
  （ストレージ層 + 可視化層 トレースデータのみ）


### 可視化層

テレメトリデータを、人間が理解できる「意味」に変換する層です。

**製品例**

- **トレース中心**
  - AWS X-Ray（保存 + 可視化。トレースのみ）
  - Jaeger UI
- **ログ中心**
  - AWS CloudWatch
  - Kibana
- **メトリクス中心**
  - Prometheus UI
- **オールインワン型**
  - Grafana


### オールインワン型

SaaS型のオブザーバビリティツールにはオールインワン型のツールもある。

- NewRelic
- Datadog
- Dynarace

いずれのツールも独自のインストゥルメンテーションを提供しているが、OpenTelemetryと統合することでベンダーロックを回避することも可能







